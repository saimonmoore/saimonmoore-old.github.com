--- 
tumblog_type: regular
title: Finally ironed out last bligi weening problem...
author: Saimon Moore
filter: haml
created_at: 2005-08-17 04:35:00 +02:00
layout: tumblog/post
---
%p
  Though, I’ve had the site up for a few days, I was coming across a problem in production I’d not been having before.
%p
  Namely, a
  %b
    %i
      412 ‘Pre-condition Failed’
  error.
%p
  At first I was stumped, and thought that  this was something to do with, the security authorization on posts filter I had setup. But after, not finding anything in the logs, I started to suspect the ajax code.
%p
  A google search led me to the textdrive forums, which then led me to the following error in httpd-error.log:
%pre
  [Wed Aug 17 03:16:23 2005] [error] [client 83.50.184.178] mod_security: Access denied with code 412. Error parsing POST parameters: Error normalizing parameter value: Invalid character detected [0] [hostname saimonmoore.net]
%p
  So I had a look at the post form and then remembered that I marshalling the list parameter map and passing the generated code as a form param.
%p
  Needless to say that was, producing some very strange characters that mod_security didn’t like.
%p
  So I replaced the code with
%pre
  %code
    Object.inspect()/Object.eval_instance()
%p
  No more funny characters..no more problem…
%p
  Works great… I can now post live to my hearts content. ;)
%p
